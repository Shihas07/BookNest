<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Room Booking Details</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    .navbar-custom {
      background-color: rgb(17, 17, 17);
      height: 80px;
    }

    .navbar-brand-custom {
      color: rgb(211, 203, 203);
    }

    .parent-container {
      margin: 20px; /* Adjust margin as needed */
    }

    .left-div, .right-div {
      margin-bottom: 20px;
      background-color: rgb(254,246,233)); /* Adjust margin as needed */
      margin-top: 50px;
    }

    @media (min-width: 768px) {
      .parent-container {
        display: flex;
        justify-content: space-between;
      }

      .left-div {
        flex: 1;
        margin-bottom: 0; /* Reset margin for larger screens */
        margin-right: 20px; /* Add margin-right to create space between left and right divs */
      }

      .right-div {
        flex: 1;
        margin-bottom: 0; /* Reset margin for larger screens */
      }

    }

     .rr,.lf{
      background-color: rgb(237, 237, 241);
      color: rgb(25,135,84);
     }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light navbar-custom">
    <div class="container">
      <a class="navbar-brand navbar-brand-custom" href="#">BOOKNEST</a>
      <!-- You can add other navbar items here if needed -->
    </div>
  </nav>
  <div class="container parent-container ">
    <div class="left-div gx-5">
      <div class="rr"> <h2>Booking Details</h2></div>
       
      <form action="/booking" method="post" >
        <div class="mb-3">
          <label for="nameInput" class="form-label">Name</label>
          <input type="text" name="name" class="form-control" id="nameInput" placeholder="Enter your name" value="{{user.userName}}">
        </div>
        <div class="mb-3">
          <label for="emailInput" class="form-label">Email</label>
          <input type="email" class="form-control" id="emailInput" name="email" placeholder="Enter your email" value="{{user.email}}">
            <input type="hidden" name="roomName" value="{{room.roomName}}">
              <input type="hidden" name="roomName" value="{{room.roomName}}">
  <input type="hidden" name="category" value="{{room.category}}">
  <input type="hidden" name="checkInDate" value="{{checkInDate}}">
  <input type="hidden" name="checkOutDate" value="{{checkOutDate}}">
  <input type="hidden" name="price"  value="{{price}}">
  <input type="hidden" name="roomid"  value="{{room._id}}">
  
  
 
        </div>
        <button type="submit" class="btn btn-success">continue</button>
    
   </form>
    </div>
    <div class="right-div gx-5">
      <div class="lf"> <h2>Room Details</h2></div>
     
      <div>
        <img src="" class="img-fluid" alt="">
      </div>
      <div>
        <div style="display: inline-block;">
    <img src="{{room.roomImages.[0]}}" alt="uuu" style="width: 100px;">
</div>
<h3 style="display: inline-block; vertical-align: top;"> {{room.roomName}}</h3>

   <h5 style="position: top=20px;">{{room.category}}</h5>

        <p>Check-in Date: {{checkInDate}}</p>
        <p>Check-out Date: {{checkOutDate}}</p>
        <p>Total Price: {{price}}</p>
        
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get the data passed from the server
    var userName = "{{user.userName}}";
    var email = "{{user.email}}";
    var roomName = "{{room.roomName}}";
    var checkInDate = "{Check-in Date}}";
    var checkOutDate = "{{checkOutDate}}";
    var totalPrice = "{{totalPrice}}";

    // Log the received data to the console for verification
    console.log('User Name:', userName);
    console.log('Email:', email);
    console.log('Room Name:', roomName);
    console.log('Check-in Date:', checkInDate);
    console.log('Check-out Date:', checkOutDate);
    console.log('Total Price:', totalPrice);
  });
</script>

</body>
<div class="modal fade" id="bookingSuccessModal" tabindex="-1" aria-labelledby="bookingSuccessModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="bookingSuccessModalLabel">Booking Successful</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Your booking has been successfully completed.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<script>
  // Add this script to show the modal after form submission
  document.addEventListener('DOMContentLoaded', function() {
    // Get the URL parameter to check if the booking was successful
    const urlParams = new URLSearchParams(window.location.search);
    const bookingSuccess = urlParams.get('success');

    // If booking was successful, show the modal
    if (bookingSuccess) {
      var myModal = new bootstrap.Modal(document.getElementById('bookingSuccessModal'), {
        keyboard: false
      });
      myModal.show();
    }
  });
</script>
</html>
